<!DOCTYPE html>
<html lang="fr" class="">
	<head>
		<meta charset="UTF-8" />
		<title>Croiscendence</title>
		<link href="/public/output.css" rel="stylesheet" />
	</head>
	<body>
	<img src="/src/image/bg-croissant-white.jpg" 
		alt="bgcroissant"
		class="absolute block dark:hidden -z-10 object-cover w-full h-screen">
	<img src="/src/image/bg-croissant-black.jpg" 
		alt="bgcroissant"
		class="absolute -z-10 hidden dark:block object-cover w-full h-screen">
	<main id="app"></main>

	<script type="module" src="/public/app.js"></script>
	</body>

	<template id="html">
		<header class="flex dark:bg-black/30 items-center pb-2 h-28 bg-gray-200/20 backdrop-blur-sm shadow-md">
			<a href="/" data-link class="block dark:hidden ml-4">
				<img src="/src/image/croissant-white.png" alt="croissantw"
					 class="w-24 duration-200 hover:-translate-y-1 rounded-full mt-3">
			</a>
			<a href="/" data-link class="hidden dark:block ml-4">
				<img src="/src/image/croissant-black.png" alt="croissantd"
					class="w-24 duration-200 hover:-translate-y-1 rounded-full mt-3">
			</a>
		</header>
		<main class="flex mx-auto flex-col mt-[10vh] grow">
			<h1 class="text-4xl md:text-7xl font-bold mx-auto 
				bg-linear-to-r from-amber-800 via-amber-600 to-orange-500 
				bg-clip-text text-transparent drop-shadow-lg
				hover:bg-linear-to-r hover:from-orange-500 hover:via-amber-800 hover:to-amber-600
				animate-pulse">
				Croiscendence</h1>
			<div class="mt-14">
				<nav id="public-nav">
					<a href="/login" data-link class="btn mx-auto w-48">Log in</a>
					<a href="/register" data-link class="btn mx-auto w-48">Register</a>
				</nav>
			</div>
				<p class="absolute mb-4 opacity-60 bottom-0 w-full text-center">This isn't a bakery at all ‚Äî it's the Pong game from 42!</p>
		</main>
	</template>

	<template id="loginhtml">
		<header class="flex dark:bg-black/30 items-center pb-2 h-28 bg-gray-200/20 backdrop-blur-sm shadow-md">
			<a href="/" data-link class="block dark:hidden ml-4">
				<img src="/src/image/croissant-white.png" alt="croissantw"
					class="w-24 duration-200 hover:-translate-y-1 rounded-full mt-3">
			</a>
			<a href="/" data-link class="hidden dark:block ml-4">
				<img src="/src/image/croissant-black.png" alt="croissantd"
					class="w-24 duration-200 hover:-translate-y-1 rounded-full mt-3">
			</a>
		</header>
		<form id="login-form" class="flex flex-col rounded-lg text-center bg-white ring-4 ring-amber-300 dark:bg-black/20 backdrop-blur-lg shadow-lg mt-40 w-100 h-80 mx-auto">
	 		<h1 class="mt-4 text-amber-900 dark:text-white font-bold text-xl">Welcome Back</h1>
			<div class="flex flex-col mx-10">
				<div class="items-start text-start">
					<h2 class="text-sm text-amber-900 dark:text-white mt-3 mb-0.5">Username</h2>
					<input class="input" 
						id="username" name="username" placeholder="Enter your username" required />
					<p class="text-red-600 text-xs mt-1 text-left block" id="username-loginmsg"></p>
				</div>
				<div class="items-start text-start">
					<h2 class="text-sm text-amber-900 dark:text-white mt-3 mb-0.5">Password</h2>
					<input class="input" 
						id="password" type="password" name="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required />
					<p class="text-red-600 text-xs mt-1 text-left block" id="password-loginmsg"></p>
				</div>
			</div>
			<div id="twofa-box" class="hidden flex flex-col mx-10 mt-4">
				<h2 class="text-sm text-amber-900 dark:text-white mb-0.5">Two-Factor Code</h2>		
				<input id="twofa-code" class="input" maxlength="6" placeholder="6-digit code"/>		
				<p class="text-red-600 text-xs mt-1 text-left block" id="twofa-msg"></p>	
			</div>	
			<button type="submit" class="btn mx-auto w-40 justify-end">Log in</button>
			<a class="mt-1 text-amber-900 dark:text-white hover:underline text-sm" href="/register" data-link>Create account ?</a>
		</form>
	</template>

	<template id="registerhtml">
		<header class="flex dark:bg-black/30 items-center pb-2 h-28 bg-gray-200/20 backdrop-blur-sm shadow-md">
			<a href="/" data-link class="block dark:hidden ml-4">
				<img src="/src/image/croissant-white.png" alt="croissantw"
					class="w-24 duration-200 hover:-translate-y-1 rounded-full mt-3">
			</a>
			<a href="/" data-link class="hidden dark:block ml-4">
				<img src="/src/image/croissant-black.png" alt="croissantd"
					class="w-24 duration-200 hover:-translate-y-1 rounded-full mt-3">
			</a>
		</header>
		<div class="register-container flex flex-col">
			<form id="register-form" class="flex flex-col rounded-lg text-center ring-4 ring-amber-300 bg-white dark:bg-black/20 backdrop-blur-lg shadow-lg mt-20 w-100 h-120 mx-auto">
				<h1 class="mt-4 text-amber-900 dark:text-white font-bold text-xl">Registration<br> <span class="opacity-50 text-lg font-normal">Create your account to get started</span></h1>
				<div class="flex flex-col mx-10">
					<div class="items-start text-start">
						<h2 class="text-sm text-amber-900 dark:text-white mt-3 mb-0.5">Username</h2>
						<input class="input"
							type="text" name="username" placeholder="Select a username" required />
						<p class="text-red-600 text-xs mt-1 text-left block" id="username-message"></p>
					</div>
					<div class="items-start text-start">
						<h2 class="text-sm text-amber-900 dark:text-white mt-3 mb-0.5">Email</h2>
						<input class="input"
							type="email" name="email" placeholder="your.email@example.com" required />
						<p class="text-red-600 text-xs mt-1 text-left block" id="email-message"></p>
					</div>
					<div class="items-start text-start">
						<h2 class="text-sm text-amber-900 dark:text-white mt-3 mb-0.5">Password</h2>
						<input class="input" 
							type="password" name="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required />
							<p class="text-red-600 text-xs mt-1 text-left block" id="password-message"> </p>
					</div>
					<div class="items-start text-start">
						<h2 class="text-sm text-amber-900 dark:text-white mt-3 mb-0.5">Confirm Password</h2>
						<input class="input"
							type="password" name="confirm-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required />
						<p class="text-red-600 text-xs mt-1 text-left block" id="confirm-password-message"> </p>
					</div>
				</div>
				<button class="btn mx-auto w-40 justify-end" type="submit">Register</button>
				<a class="mt-1 text-amber-900 dark:text-white hover:underline text-sm" href="/login" data-link>Already registered ?</a>
			</form>
			<p id="rules-password" class="text-xs text-amber-900 dark:text-white opacity-50 mt-2 text-center block">
				Password rules :<br>
				- The password must contain at least 12 characters.<br>
				- It must include at least one uppercase letter (A-Z), one lowercase letter (a-z) and one digit (0-9).<br>
				- It must include at least one special character : !@#$%^&*()_\-+=.?.<br>
			</p>
		</div>
	</template>

	<template id="registerok">
		<header class="flex dark:bg-black/30 items-center pb-2 h-28 bg-gray-200/20 backdrop-blur-sm shadow-md">
			<a href="/" data-link class="block dark:hidden ml-4">
				<img src="/src/image/croissant-white.png" alt="croissantw"
					class="w-24 duration-200 hover:-translate-y-1 rounded-full mt-3">
			</a>
			<a href="/" data-link class="hidden dark:block ml-4">
				<img src="/src/image/croissant-black.png" alt="croissantd"
					class="w-24 duration-200 hover:-translate-y-1 rounded-full mt-3">
			</a>
		</header>
		<div class="flex flex-col justify-center">
			<h1 class="text-amber-600 mt-40 text-2xl text-center mx-auto block">You have been register Successfully !</h1>
			<a href="/login" data-link class="btn mx-auto mt-20 w-48">Login</a>
		</div>
	</template>

	<template id="homehtml">
		<div class="w-full h-screen">
			<header id="header-container"></header>
			<main class="w-[60%] ml-[5%] mt-40 text-center">
				<h1 class="text-4xl md:text-6xl lg:text-7xl font-bold mx-auto
						bg-linear-to-r from-amber-800 via-amber-600 to-orange-500 
						bg-clip-text text-transparent drop-shadow-lg
						hover:bg-linear-to-r hover:from-orange-500 hover:via-amber-800 hover:to-amber-600
						animate-pulse w-fit">Welcome in Croiscendence</h1>
				<p class="mt-10 text-base md:text-lg lg:text-xl opacity-50
          				 max-w-md mx-auto">
					You can start playing by clicking the button below,
					and view your profile information by clicking 
					your avatar in the top-right corner.</p>
				<button class="btn w-40 mx-auto mt-20 block" id="scroll-button">Start playing !</button>
			</main>
		</div>
		<div id="gamepage">
			<img src="/src/image/gamepage.jpg"
				alt="gamepage"
				class="absolute block dark:hidden -z-10 object-cover w-full h-screen">
			<section class="flex flex-col items-end mr-60 text-center">
				<ul>
					<li class="mt-20">
						<h1 class="text-2xl">Local</h1>
						<a href="/gamelocal" data-link class="btn w-48">Player or AI</a>
					</li>
					<li class="mt-20">
						<h1 class="text-2xl">Online</h1>
						<a href="/gameonline" data-link class="btn w-48">1 VS 1</a>
					</li>
					<li class="mt-20">
						<h1 class="text-2xl">Tournament</h1>
						<a href="/tournament" data-link class="btn w-48">8 Players</a>
					</li>
				</ul>
			</section>
		</div>
	</template>
	
	<template id="friendshtml">
		<div id="header-container"></div>
		<div id ="search" class="flex justify-center p-4">
			<input type="text" id="searchInput" placeholder="üîçSearch...">
		</div>
		<ul id ="members"  class="space-y-2"></ul>

		<div id="no-friend" class="hidden">
			<h1>Clic here to add friends</h1>
		</div>
		<div id="friends" class="hidden">
			<h1>Your friends :</h1>
			<ul class="list-disc pl-5">
			</ul>
		</div>
		<div id = "pending" class="flex justify-end p-4">
			<h1>Pending friends :</h1>
			<ul class="list-disc pl-5"></ul>
		</div>
	</template>

	<template id="profilehtml">
		<div id="header-container"></div>
		<main class="flex">
			<div class="bg-[linear-gradient(180deg,var(--color-amber-400)_20%,var(--color-amber-50)_20%)] 
						ring-4 ring-amber-900 flex flex-col w-100 h-full rounded-lg mt-2 
						mx-auto shadow-2xl items-center">
				<div class="flex flex-row w-100 mt-3 justify-between">
					<div class="w-5"></div>
					<h1 class="text-3xl mx-auto font-bold text-amber-900
						drop-shadow-lg" id="profile-pseudo"></h1>
					<a class="size-6 mt-2 justify-end mr-5 object-contain" href="/updateinfo">
						<img class="invert ring-1 p-0.5 ring-blue-950 rounded-md" src="src/image/crayon.png" alt="crayon">
					</a>
				</div>
				<a class="mt-2 object-contain" href="/updateinfo">
					<img class="ring-4 ring-amber-900 rounded-full shadow-xl" id="profile-avatar" src="" alt="Your avatar" width="150">
				</a>
				<select id="profile-status"
					class="inline-block text-amber-900 mt-4 rounded-md shadow-sm ring-2 bg-amber-500/20 ring-amber-400 sm:text-sm">
					<option value="online">üü¢ Online </option>
					<option value="offline">‚ö™ Offline </option>
					<option value="busy">üî¥ Busy </option>
				</select>
				<div class="flex flex-col">
					<div class="flex items-start shadow-sm text-amber-900 bg-amber-300/20 w-80 ring-1 h-16 pt-1 ring-amber-900 rounded-lg mt-8">
						<img class="bg-blue-700 shadow-sm my-1 px-1 rounded-lg size-12 invert ml-2 items-start" src="/src/image/email.png" alt="">
						<div>
							<h1 class="ml-2 font-bold">Email</h1>
							<p id="profile-email" class="ml-2"></p>
						</div>
						<a class="size-6 mt-4 ml-auto justify-end mr-5 object-contain" href="/updateinfo">
							<img class="invert p-0.5 bg-blue-600 rounded-md" src="src/image/crayon.png" alt="crayon">
						</a>
					</div>
					<div class="flex items-start shadow-sm text-amber-900 bg-amber-300/20 w-80 ring-1 h-16 pt-1 ring-amber-900 rounded-lg mt-8">
						<img class="bg-blue-700 shadow-sm my-1 px-1 rounded-lg size-12 invert ml-2 items-start" src="/src/image/email.png" alt="">
						<div>
							<h1 class="ml-2 font-bold">Password</h1>
							<p class="ml-2">‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢</p>
						</div>
						<a class="size-6 mt-4 ml-auto justify-end mr-5 object-contain" href="/updateinfo">
							<img class="invert p-0.5 bg-blue-600 rounded-md" src="src/image/crayon.png" alt="crayon">
						</a>
					</div>
					<div class="flex items-start shadow-sm text-amber-900 bg-amber-300/20 w-80 ring-1 h-16 pt-1 ring-amber-900 rounded-lg mt-8">
						<img class="bg-blue-700 shadow-sm my-1 px-1 rounded-lg size-12 invert ml-2 items-start" src="/src/image/euro.png" alt="">
						<div>
							<h1 class="ml-2 font-bold">Money</h1>
							<p id="profile-money" class="ml-2"></p>
						</div>
					</div>
					<div class="flex items-start shadow-sm text-amber-900 bg-amber-300/20 mb-4 w-80 ring-1 h-16 pt-1 ring-amber-900 rounded-lg mt-8">
						<img class="bg-blue-700 shadow-sm my-1 px-1 rounded-lg size-12 invert ml-2 items-start" src="/src/image/coupe.png" alt="">
						<div>
							<h1 class="ml-2 font-bold">Elo</h1>
							<p id="profile-elo" class="ml-2"></p>
						</div>
					</div>
					<!-- Two-Factor Management Section -->
					<div id="twofa-container" class="flex flex-col items-center mt-6">
						<p id="twofa-status" class="font-bold text-amber-900 mb-2">2FA Status</p>
						<img id="twofa-qr" class="hidden w-40 h-40 mb-2 border-2 border-amber-900 rounded-lg" alt="2FA QR Code">
						<div class="flex gap-4">
							<button id="twofa-enable-btn" class="btn bg-green-500 text-white px-4 py-2 rounded hidden">
								Enable 2FA
							</button>
							<button id="twofa-disable-btn" class="btn bg-red-500 text-white px-4 py-2 rounded hidden">
								Disable 2FA
							</button>
						</div>
					</div>
					<div id="twofa-verify-container" class="flex flex-col items-center mt-4 hidden">
						<input
							id="twofa-code-input"
							maxlength="6"
							placeholder="Enter 6-digit code"
							class="border px-2 py-1 rounded w-32 text-center"
						/>
						<button id="twofa-verify-btn"
							class="mt-2 bg-blue-500 text-white px-3 py-1 rounded">
							Verify Code
						</button>
					</div>
				</div>
			</div>
		</main>
	</template>

	<template id="updateinfohtml">
		<div id="header-container"></div>
		<main>
			<h1>Update profile</h1>
			<p><strong>Update information for user:</strong> <span id="profile-username"></span></p>
			<h2><strong>Change Username</strong></h2>
			<form id="change-username-form">
				<input type="text" name="new-username" placeholder="New Username" required />
				<input type="password" name="password" placeholder="Confirm Password" required />
				<button type="submit">Update Username</button>
			</form>
			<h2><strong>Change Email</strong></h2>
			<form id="change-email-form">
				<input type="text" name="new-email" placeholder="New Email" required />
				<input type="password" name="password" placeholder="Confirm Password" required />
				<button type="submit">Update Email</button>
			</form>
			<h2><strong>Change Password</strong></h2>
			<form id="change-password-form">
				<input type="password" name="old-password" placeholder="Old Password" required />
				<input type="password" name="new-password" placeholder="New Password" required />
				<input type="password" name="confirm-new-password" placeholder="Confirm New Password" required />
				<button type="submit">Update Password</button>
			</form>
			<h2><strong>Upload avatar</strong></h2>
			<form id="upload_avatar" method="POST" enctype="multipart/form-data">
				<input type="file" name="avatar" accept="image/png, image/jpeg"/>
				<button type="submit">Upload</button>
			</form>
		</main>
	</template>

	<template id="gamelocalhtml">
		<div id="header-container"></div>
		<h1>Local Game</h1>
		<div class="game-buttons flex justify-center">
			<button class="btn mx-auto w-32" id="pvp">Player VS Player</button>
			<button class="btn mx-auto w-32" id="pvai">Player VS AI</button>
		</div>
	</template>

	<template id="gameonlinehtml">
		<div id="header-container"></div>
		<h1>Online games</h1>
		<div class="game-buttons flex justify-center">
			<button class="btn mx-auto w-32" id="create-onlinegame">Create game</button>
			<button class="btn mx-auto w-32" id="display-game-list">Display game list</button>
		</div>
		<div id="game-list"></div>
	</template>

	<template id="pongmatchhtml">
		<div id="header-container"></div>
		<h1>Quick game</h1>
		<div class="game-container">
			<div class="flex justify-center mx-auto w-full">
				<canvas id="canvas" width="600" height="480"></canvas>
			</div>
			<div id="buttons" class="game-buttons flex justify-center hidden">
				<button class="btn mx-auto w-32" id="replay-btn">Replay</button>
				<button class="btn mx-auto w-32" id="dashboard-btn">Dashboard</button>
			</div>
		</div>
	</template>

	<template id="tournamenthtml">
		<div id="header-container"></div>
		<h1 class="text-3xl font-bold text-center mt-6">Tournament Overview</h1>
		<div class="grid grid-cols-2 gap-4 mt-8 px-6">
			<div>
				<h2 class="text-xl font-semibold mb-2 text-amber-700">üìÅ Database State</h2>
				<div id="db-panel" class="p-4 bg-amber-200/30 rounded shadow"></div>
			</div>
			<div>
				<h2 class="text-xl font-semibold mb-2 text-green-700">‚õì Blockchain State</h2>
				<div id="chain-panel" class="p-4 bg-green-200/30 rounded shadow"></div>
			</div>
		</div>
		<div class="flex flex-col items-center mt-6 gap-3">
			<button id="create-test" class="btn mx-auto w-48">Create Test Tournament</button>
			<button id="show-onchain" class="btn mx-auto w-48">Show DB vs Blockchain</button>
			<button id="back-to-home" class="btn mx-auto w-48" data-link href="/home">Back to Home</button>
		</div>  
	</template>

	<template id="errorhtml">
	<div class="flex flex-col items-center justify-center h-screen">
		<h1 class="text-4xl font-bold text-red-600">404 - Invalid page</h1>
		<p class="mt-4">This page does not exist.</p>
		<a href="/" data-link class="mt-6 text-blue-500 underline">Go back</a>
	</div>
	</template>


	<template id="dashboardhtml">
		<div id="header-container"></div>
		<div class="flex flex-row">
			<section class="bg-amber-100/80 mt-5 ml-2 w-[50%] h-[80vh] flex flex-col ring-2 ring-amber-400 items-center rounded-lg">
				<h1 class="font-bold text-xl mb-1 text-amber-900">History - 20 last games :</h1>
				<div id="game-list" class="w-[90%] h-[90%] px-1 overflow-y-auto scrollbar-none mb-2 ring-2
					bg-amber-50 rounded-lg ring-amber-200 shadow-lg">
				</div>
			</section>
			<section class="flex flex-row ml-2 w-[50%]">
				<div class="flex flex-col w-[50%] h-[95%] text-center mt-4">
					<p class="stat">Games Wins <br><span class="text-6xl" id="win"></span></p>
					<p class="stat">Games Losses <br><span class="text-6xl" id="loose"></span></p>
					<p class="stat">Winrate <br><span class="text-6xl" id="winrate"></span></p>
				</div>
				<div class="flex flex-col w-[50%] h-[95%] text-center mt-4">
					<p class="stat">Points Scored <br><span class="text-6xl" id="scored"></span></p>
					<p class="stat">Points Taken <br><span class="text-6xl" id="taken"></span></p>
					<p class="stat">Ratio <br><span class="text-6xl" id="ratio"></span></p>
				</div>
			</section>
		</div>				
	</template>

	<template id="history-dashboard">
		<div class="flex items-center gap-4 w-1/3">
			<img id="winnerpath" src="" alt="winner avatar"
				class="w-16 h-16 rounded-full object-cover border-2 border-green-500">
			
			<div>
				<p id="winnerpseudo" class="text-xl font-semibold text-green-500"></p>
				<p id="winnerscore" class="text-2xl bg-amber-600/30 rounded-sm w-6 text-center ring-1 ring-amber-600/50 text-amber-900 font-bold"></p>
			</div>
		</div>

		<div>
			<p class="text-xl items-end font-semibold text-green-500">Winner</p>
		</div>
		<div class="flex flex-col items-center w-1/3">
			<p id="type" class="text-xl text-amber-950"></p>
			<p id="date" class="text-lg text-amber-800"></p>
			<p id="duration" class="text-sm text-amber-900"></p>
		</div>
		<div>
			<p class="text-xl items-start font-semibold text-red-500">Loser</p>
		</div>

		<div class="flex items-center gap-4 w-1/3 justify-end">
			<div class="">
				<p id="loserpseudo" class="text-xl font-semibold text-red-500"></p>
				<p id="loserscore" class="text-2xl bg-amber-600/30 rounded-sm ring-1 ring-amber-600/50 w-6 text-center ml-auto text-amber-900 font-bold"></p>
			</div>

			<img id="loserpath" src="" alt="loser avatar"
				class="w-16 h-16 rounded-full object-cover border-2 border-red-500">
		</div>
	</template>

</html>
